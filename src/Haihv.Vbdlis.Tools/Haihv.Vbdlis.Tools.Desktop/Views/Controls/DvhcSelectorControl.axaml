<UserControl
  x:Class="Haihv.Vbdlis.Tools.Desktop.Views.Controls.DvhcSelectorControl"
  xmlns="https://github.com/avaloniaui"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  xmlns:vm="using:Haihv.Vbdlis.Tools.Desktop.ViewModels"
  xmlns:entities="using:Haihv.Vbdlis.Tools.Desktop.Entities"
  d:DesignHeight="200"
  d:DesignWidth="800"
  x:DataType="vm:DvhcSelectorViewModel"
  mc:Ignorable="d">

  <Design.DataContext>
    <vm:DvhcSelectorViewModel />
  </Design.DataContext>

  <UserControl.Resources>
    <SolidColorBrush x:Key="RefreshButtonBackgroundBrush" Color="#0F6CBD" />
    <SolidColorBrush x:Key="RefreshButtonForegroundBrush" Color="#FFFFFF" />
  </UserControl.Resources>

  <UserControl.Styles>
    <Style Selector="Button.refresh">
      <Setter Property="Background" Value="{StaticResource RefreshButtonBackgroundBrush}" />
      <Setter Property="Foreground" Value="{StaticResource RefreshButtonForegroundBrush}" />
      <Setter Property="BorderBrush" Value="{StaticResource RefreshButtonBackgroundBrush}" />
    </Style>

    <Style Selector="ComboBox">
      <Setter Property="MinWidth" Value="200" />
      <Setter Property="Margin" Value="0,0,8,0" />
    </Style>
  </UserControl.Styles>

  <DockPanel>
    <!--  Toolbar: NÃºt lÃ m má»›i  -->
    <Border
      DockPanel.Dock="Top"
      Padding="8"
      Background="{DynamicResource SystemRegionBrush}"
      BorderBrush="{DynamicResource SystemControlForegroundBaseMediumBrush}"
      BorderThickness="0,0,0,1"
      Margin="0,0,0,8">
      <Grid ColumnDefinitions="Auto,*,Auto">
        <!--  NÃºt lÃ m má»›i  -->
        <Button
          Grid.Column="0"
          Classes="refresh"
          Command="{Binding RefreshDvhcDataCommand}"
          IsEnabled="{Binding !IsLoading}"
          ToolTip.Tip="LÃ m má»›i dá»¯ liá»‡u DVHC tá»« web">
          <StackPanel Orientation="Horizontal" Spacing="4">
            <TextBlock Text="ðŸ”„" />
            <TextBlock Text="LÃ m má»›i" />
          </StackPanel>
        </Button>

        <!--  Status Message  -->
        <TextBlock
          Grid.Column="1"
          Margin="16,0,0,0"
          VerticalAlignment="Center"
          FontStyle="Italic"
          IsVisible="{Binding StatusMessage, Converter={x:Static StringConverters.IsNotNullOrEmpty}}"
          Text="{Binding StatusMessage}" />

        <!--  Loading Indicator  -->
        <StackPanel
          Grid.Column="2"
          Orientation="Horizontal"
          Spacing="8"
          IsVisible="{Binding IsLoading}">
          <ProgressBar
            Width="100"
            Height="4"
            VerticalAlignment="Center"
            IsIndeterminate="True" />
          <TextBlock VerticalAlignment="Center" Text="Äang táº£i..." />
        </StackPanel>
      </Grid>
    </Border>

    <!--  DVHC Selectors - Layout Ä‘á»™ng theo IsHorizontalLayout  -->
    <Panel>
      <!--  Layout ngang: 3 ComboBox trÃªn 1 hÃ ng  -->
      <StackPanel
        Orientation="Horizontal"
        Spacing="8"
        IsVisible="{Binding IsHorizontalLayout}">

        <!--  Tá»‰nh/ThÃ nh phá»‘ (Label hiá»ƒn thá»‹ tÃªn tá»‰nh hiá»‡n táº¡i)  -->
        <StackPanel Spacing="4">
          <TextBlock
            FontWeight="SemiBold"
            Text="Tá»‰nh/ThÃ nh phá»‘:" />
          <Border
            Padding="8"
            Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
            BorderBrush="{DynamicResource SystemControlForegroundBaseMediumBrush}"
            BorderThickness="1"
            CornerRadius="4"
            MinWidth="200">
            <TextBlock
              VerticalAlignment="Center"
              Text="Báº¯c Ninh"
              FontWeight="Medium" />
          </Border>
        </StackPanel>

        <!--  Quáº­n/Huyá»‡n  -->
        <StackPanel Spacing="4">
          <TextBlock
            FontWeight="SemiBold"
            Text="Quáº­n/Huyá»‡n:" />
          <ComboBox
            ItemsSource="{Binding HuyenList}"
            SelectedItem="{Binding SelectedHuyen}"
            PlaceholderText="-- Chá»n Quáº­n/Huyá»‡n --"
            IsEnabled="{Binding !IsLoading}">
            <ComboBox.ItemTemplate>
              <DataTemplate x:DataType="entities:DvhcCapHuyen">
                <TextBlock Text="{Binding Name}" />
              </DataTemplate>
            </ComboBox.ItemTemplate>
          </ComboBox>
        </StackPanel>

        <!--  PhÆ°á»ng/XÃ£  -->
        <StackPanel Spacing="4">
          <TextBlock
            FontWeight="SemiBold"
            Text="PhÆ°á»ng/XÃ£:" />
          <ComboBox
            ItemsSource="{Binding XaList}"
            SelectedItem="{Binding SelectedXa}"
            PlaceholderText="-- Chá»n PhÆ°á»ng/XÃ£ --"
            IsEnabled="{Binding !IsLoading}">
            <ComboBox.ItemTemplate>
              <DataTemplate x:DataType="entities:DvhcCapXa">
                <TextBlock Text="{Binding Name}" />
              </DataTemplate>
            </ComboBox.ItemTemplate>
          </ComboBox>
        </StackPanel>
      </StackPanel>

      <!--  Layout dá»c: Má»—i ComboBox 1 hÃ ng  -->
      <StackPanel
        Orientation="Vertical"
        Spacing="12"
        IsVisible="{Binding !IsHorizontalLayout}">

        <!--  Tá»‰nh/ThÃ nh phá»‘  -->
        <Grid ColumnDefinitions="150,*">
          <TextBlock
            Grid.Column="0"
            VerticalAlignment="Center"
            FontWeight="SemiBold"
            Text="Tá»‰nh/ThÃ nh phá»‘:" />
          <Border
            Grid.Column="1"
            Padding="8"
            Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
            BorderBrush="{DynamicResource SystemControlForegroundBaseMediumBrush}"
            BorderThickness="1"
            CornerRadius="4">
            <TextBlock
              VerticalAlignment="Center"
              Text="Báº¯c Ninh"
              FontWeight="Medium" />
          </Border>
        </Grid>

        <!--  Quáº­n/Huyá»‡n  -->
        <Grid ColumnDefinitions="150,*">
          <TextBlock
            Grid.Column="0"
            VerticalAlignment="Center"
            FontWeight="SemiBold"
            Text="Quáº­n/Huyá»‡n:" />
          <ComboBox
            Grid.Column="1"
            ItemsSource="{Binding HuyenList}"
            SelectedItem="{Binding SelectedHuyen}"
            PlaceholderText="-- Chá»n Quáº­n/Huyá»‡n --"
            IsEnabled="{Binding !IsLoading}"
            HorizontalAlignment="Stretch">
            <ComboBox.ItemTemplate>
              <DataTemplate x:DataType="entities:DvhcCapHuyen">
                <TextBlock Text="{Binding Name}" />
              </DataTemplate>
            </ComboBox.ItemTemplate>
          </ComboBox>
        </Grid>

        <!--  PhÆ°á»ng/XÃ£  -->
        <Grid ColumnDefinitions="150,*">
          <TextBlock
            Grid.Column="0"
            VerticalAlignment="Center"
            FontWeight="SemiBold"
            Text="PhÆ°á»ng/XÃ£:" />
          <ComboBox
            Grid.Column="1"
            ItemsSource="{Binding XaList}"
            SelectedItem="{Binding SelectedXa}"
            PlaceholderText="-- Chá»n PhÆ°á»ng/XÃ£ --"
            IsEnabled="{Binding !IsLoading}"
            HorizontalAlignment="Stretch">
            <ComboBox.ItemTemplate>
              <DataTemplate x:DataType="entities:DvhcCapXa">
                <TextBlock Text="{Binding Name}" />
              </DataTemplate>
            </ComboBox.ItemTemplate>
          </ComboBox>
        </Grid>
      </StackPanel>
    </Panel>
  </DockPanel>
</UserControl>
